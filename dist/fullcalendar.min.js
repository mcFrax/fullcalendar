/*!
 * FullCalendar v2.0.2
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2014 Adam Shaw, Sean Kenny
 */
(function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(jQuery,moment)})(function(e,t){function n(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function r(e,t){var n=t.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n}function a(e){o(_t,e)}function o(t){function n(n,r){e.isPlainObject(r)&&e.isPlainObject(t[n])&&!i(n)?t[n]=o({},t[n],r):void 0!==r&&(t[n]=r)}for(var r=1;arguments.length>r;r++)e.each(arguments[r],n);return t}function i(e){return/(Time|Duration)$/.test(e)}function s(n,r){function a(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function i(e){st?h()&&D(e):s()}function s(){lt=nt.theme?"ui":"fc",n.addClass("fc"),nt.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),nt.theme&&n.addClass("ui-widget"),st=e("<div class='fc-content' />").prependTo(n),ot=new l(et,nt),it=ot.render(),it&&n.prepend(it),g(nt.defaultView),nt.handleWindowResize&&e(window).resize(T),p()||d()}function d(){setTimeout(function(){!ct.start&&p()&&y()},0)}function v(){ct&&(Q("viewDestroy",ct,ct,ct.element),ct.triggerEventDestroy()),e(window).unbind("resize",T),nt.droppable&&e(document).off("dragstart",J).off("dragstop",K),ct.selectionManagerDestroy&&ct.selectionManagerDestroy(),ot.destroy(),st.remove(),n.removeClass("fc fc-ltr fc-rtl ui-widget")}function h(){return n.is(":visible")}function p(){return e("body").is(":visible")}function g(e){ct&&e==ct.name||m(e)}function m(t){mt++,ct&&(Q("viewDestroy",ct,ct,ct.element),F(),ct.triggerEventDestroy(),$(),ct.element.remove(),ot.deactivateButton(ct.name)),ot.activateButton(t),ct=new Ft[t](e("<div class='fc-view fc-view-"+t+"' />").appendTo(st),et),y(),X(),mt--}function y(e){ct.start&&!e&&ut.isWithin(ct.intervalStart,ct.intervalEnd)||h()&&D(e)}function D(e){mt++,ct.start&&(Q("viewDestroy",ct,ct,ct.element),F(),x()),$(),e&&(ut=ct.incrementDate(ut,e)),ct.render(ut.clone()),w(),X(),(ct.afterRender||k)(),H(),N(),Q("viewRender",ct,ct,ct.element),mt--,M()}function b(){h()&&(F(),x(),w(),S())}function w(){mt++,ct.setHeight(st.height()),ct.setWidth(st.width()),mt--,dt=n.outerWidth()}function T(e){if(!mt&&e.target===window)if(ct.start){var t=++gt;setTimeout(function(){t==gt&&!mt&&h()&&dt!=(dt=n.outerWidth())&&(mt++,b(),ct.trigger("windowResize",pt),mt--)},nt.windowResizeDelay)}else d()}function C(){x(),R()}function E(e){x(),S(e)}function S(e){h()&&(ct.renderEvents(yt,e),ct.trigger("eventAfterAllRender"))}function x(){ct.triggerEventDestroy(),ct.clearEvents(),ct.clearEventData()}function M(){!nt.lazyFetching||vt(ct.start,ct.end)?R():S()}function R(){ht(ct.start,ct.end)}function z(e){yt=e,S()}function _(e){E(e)}function H(){ot.updateTitle(ct.title)}function N(){var e=et.getNow();e.isWithin(ct.intervalStart,ct.intervalEnd)?ot.disableButton("today"):ot.enableButton("today")}function W(e,t){ct.select(e,t)}function F(){ct&&ct.unselect()}function O(){y(-1)}function A(){y(1)}function L(){ut.add("years",-1),y()}function Y(){ut.add("years",1),y()}function Z(){ut=et.getNow(),y()}function B(e){ut=et.moment(e),y()}function j(e){ut.add(t.duration(e)),y()}function I(){return ut.clone()}function $(){st.css({width:"100%",height:st.height(),overflow:"hidden"})}function X(){st.css({width:"",height:"",overflow:""})}function V(){return et}function G(){return ct}function U(e,t){return void 0===t?nt[e]:("minResourceWidth"==e&&(nt[e]=t,b()),void 0)}function Q(e,t){return nt[e]?nt[e].apply(t||pt,Array.prototype.slice.call(arguments,2)):void 0}function J(t,n){var r=t.target,a=e(r);if(!a.parents(".fc").length){var o=nt.dropAccept;(e.isFunction(o)?o.call(r,a):a.is(o))&&(ft=r,ct.dragStart(ft,t,n))}}function K(e,t){ft&&(ct.dragStop(ft,e,t),ft=null)}var et=this;r=r||{};var tt,nt=o({},_t,r);tt=nt.lang in Ht?Ht[nt.lang]:Ht[_t.lang],tt&&(nt=o({},_t,tt,r)),nt.isRTL&&(nt=o({},_t,Nt,tt||{},r)),et.options=nt,et.render=i,et.destroy=v,et.refetchEvents=C,et.reportEvents=z,et.reportEventChange=_,et.rerenderEvents=E,et.changeView=g,et.select=W,et.unselect=F,et.prev=O,et.next=A,et.prevYear=L,et.nextYear=Y,et.today=Z,et.gotoDate=B,et.incrementDate=j,et.getDate=I,et.getCalendar=V,et.getView=G,et.option=U,et.trigger=Q;var rt=f(a(nt.lang));if(nt.monthNames&&(rt._months=nt.monthNames),nt.monthNamesShort&&(rt._monthsShort=nt.monthNamesShort),nt.dayNames&&(rt._weekdays=nt.dayNames),nt.dayNamesShort&&(rt._weekdaysShort=nt.dayNamesShort),null!=nt.firstDay){var at=f(rt._week);at.dow=nt.firstDay,rt._week=at}et.defaultAllDayEventDuration=t.duration(nt.defaultAllDayEventDuration),et.defaultTimedEventDuration=t.duration(nt.defaultTimedEventDuration),et.moment=function(){var e;return"local"===nt.timezone?(e=Wt.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===nt.timezone?Wt.moment.utc.apply(null,arguments):Wt.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=rt:e._lang=rt,e},et.getIsAmbigTimezone=function(){return"local"!==nt.timezone&&"UTC"!==nt.timezone},et.rezoneDate=function(e){return et.moment(e.toArray())},et.getNow=function(){var e=nt.now;return"function"==typeof e&&(e=e()),et.moment(e)},et.calculateWeekNumber=function(e){var t=nt.weekNumberCalculation;return"function"==typeof t?t(e):"local"===t?e.week():"ISO"===t.toUpperCase()?e.isoWeek():void 0},et.getEventEnd=function(e){return e.end?e.end.clone():et.getDefaultEventEnd(e.allDay,e.start)},et.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(et.defaultAllDayEventDuration):n.add(et.defaultTimedEventDuration),et.getIsAmbigTimezone()&&n.stripZone(),n},et.formatRange=function(e,t,n){return"function"==typeof n&&(n=n.call(et,nt,rt)),q(e,t,n,null,nt.isRTL)},et.formatDate=function(e,t){return"function"==typeof t&&(t=t.call(et,nt,rt)),P(e,t)},c.call(et,nt),u.call(et,nt);var ot,it,st,lt,ct,dt,ut,ft,vt=et.isFetchNeeded,ht=et.fetchEvents,pt=n[0],gt=0,mt=0,yt=[];ut=null!=nt.defaultDate?et.moment(nt.defaultDate):et.getNow(),nt.droppable&&e(document).on("dragstart",J).on("dragstop",K)}function l(t,n){function r(){f=n.theme?"ui":"fc";var t=n.header;return t?v=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(o("left")).append(o("center")).append(o("right"))):void 0}function a(){v.remove()}function o(r){var a=e("<td class='fc-header-"+r+"'/>"),o=n.header[r];return o&&e.each(o.split(" "),function(r){r>0&&a.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(r,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(f+"-corner-right"),o=null;else{var s;if(t[i]?s=t[i]:Ft[i]&&(s=function(){h.removeClass(f+"-state-hover"),t.changeView(i)}),s){var l,c=z(n.themeButtonIcons,i),d=z(n.buttonIcons,i),u=z(n.defaultButtonText,i),v=z(n.buttonText,i);l=v?_(v):c&&n.theme?"<span class='ui-icon ui-icon-"+c+"'></span>":d&&!n.theme?"<span class='fc-icon fc-icon-"+d+"'></span>":_(u||i);var h=e("<span class='fc-button fc-button-"+i+" "+f+"-state-default'>"+l+"</span>").click(function(){h.hasClass(f+"-state-disabled")||s()}).mousedown(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){h.removeClass(f+"-state-down")}).hover(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){h.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(a);N(h),o||h.addClass(f+"-corner-left"),o=h}}}),o&&o.addClass(f+"-corner-right")}),a}function i(e){v.find("h2").html(e)}function s(e){v.find("span.fc-button-"+e).addClass(f+"-state-active")}function l(e){v.find("span.fc-button-"+e).removeClass(f+"-state-active")}function c(e){v.find("span.fc-button-"+e).addClass(f+"-state-disabled")}function d(e){v.find("span.fc-button-"+e).removeClass(f+"-state-disabled")}var u=this;u.render=r,u.destroy=a,u.updateTitle=i,u.activateButton=s,u.deactivateButton=l,u.disableButton=c,u.enableButton=d;var f,v=e([])}function c(t){function n(e,t){return!E||e.clone().stripZone()<E.clone().stripZone()||t.clone().stripZone()>S.clone().stripZone()}function r(e,t){E=e,S=t,F=[];var n=++H,r=_.length;N=r;for(var o=0;r>o;o++)a(_[o],n)}function a(t,n){o(t,function(r){var a,o,i=e.isArray(t.events);if(n==H){if(r)for(a=0;r.length>a;a++)o=r[a],i||(o=b(o,t)),o&&F.push(o);N--,N||M(F)}})}function o(n,r){var a,i,s=Wt.sourceFetchers;for(a=0;s.length>a;a++){if(i=s[a].call(C,n,E.clone(),S.clone(),t.timezone,r),i===!0)return;if("object"==typeof i)return o(i,r),void 0}var l=n.events;if(l)e.isFunction(l)?(y(),l.call(C,E.clone(),S.clone(),t.timezone,function(e){r(e),D()})):e.isArray(l)?r(l):r();else{var c=n.url;if(c){var d,u=n.success,f=n.error,v=n.complete;d=e.isFunction(n.data)?n.data():n.data;var h=e.extend({},d||{}),p=A(n.startParam,t.startParam),g=A(n.endParam,t.endParam),m=A(n.timezoneParam,t.timezoneParam);p&&(h[p]=E.format()),g&&(h[g]=S.format()),t.timezone&&"local"!=t.timezone&&(h[m]=t.timezone),y(),e.ajax(e.extend({},Ot,n,{data:h,success:function(t){t=t||[];var n=O(u,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){O(f,this,arguments),r()},complete:function(){O(v,this,arguments),D()}}))}else r()}}function i(e){var t=s(e);t&&(_.push(t),N++,a(t,H))}function s(t){var n,r,a=Wt.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t),"string"==typeof n.className&&(n.className=n.className.split(/\s+/))),n){for(e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return b(e,n)})),r=0;a.length>r;r++)a[r].call(C,n);return n}}function l(t){_=e.grep(_,function(e){return!c(e,t)}),F=e.grep(F,function(e){return!c(e.source,t)}),M(F)}function c(e,t){return e&&t&&u(e)==u(t)}function u(e){return("object"==typeof e?e.origArray||e.url||e.events:null)||e}function f(e){e.start=C.moment(e.start),e.end&&(e.end=C.moment(e.end)),w(e),v(e),M(F)}function v(e){var t,n,r,a;for(t=0;F.length>t;t++)if(n=F[t],n._id==e._id&&n!==e)for(r=0;L.length>r;r++)a=L[r],void 0!==e[a]&&(n[a]=e[a])}function p(e,t){var n=b(e);n&&(n.source||(t&&(z.events.push(n),n.source=z),F.push(n)),M(F))}function g(t){var n,r;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),F=e.grep(F,t,!0),r=0;_.length>r;r++)e.isArray(_[r].events)&&(_[r].events=e.grep(_[r].events,t,!0));M(F)}function m(t){return e.isFunction(t)?e.grep(F,t):null!=t?(t+="",e.grep(F,function(e){return e._id==t})):F}function y(){W++||x("loading",null,!0,k())}function D(){--W||x("loading",null,!1,k())}function b(n,r){var a,o,i,s,l={};return t.eventDataTransform&&(n=t.eventDataTransform(n)),r&&r.eventDataTransform&&(n=r.eventDataTransform(n)),a=C.moment(n.start||n.date),a.isValid()&&(o=null,!n.end||(o=C.moment(n.end),o.isValid()))?(i=n.allDay,void 0===i&&(s=A(r?r.allDayDefault:void 0,t.allDayDefault),i=void 0!==s?s:!(a.hasTime()||o&&o.hasTime())),i?(a.hasTime()&&a.stripTime(),o&&o.hasTime()&&o.stripTime()):(a.hasTime()||(a=C.rezoneDate(a)),o&&!o.hasTime()&&(o=C.rezoneDate(o))),e.extend(l,n),r&&(l.source=r),l._id=n._id||(void 0===n.id?"_fc"+At++:n.id+""),l.className=n.className?"string"==typeof n.className?n.className.split(/\s+/):n.className:[],l.resources?("number"==typeof l.resources&&(l.resources=[l.resources]),"string"==typeof l.resources&&(l.resources=l.resources.split(/\s+/))):l.resources=[],l.allDay=i,l.start=a,l.end=o,t.forceEventDuration&&!l.end&&(l.end=R(l)),d(l),l):void 0}function w(e,t,n){var r,a,o,i,s=e._allDay,l=e._start,c=e._end,d=!1;return t||n||(t=e.start,n=e.end),r=e.allDay!=s?e.allDay:!(t||n).hasTime(),r&&(t&&(t=t.clone().stripTime()),n&&(n=n.clone().stripTime())),t&&(a=r?h(t,l.clone().stripTime()):h(t,l)),r!=s?d=!0:n&&(o=h(n||C.getDefaultEventEnd(r,t||l),t||l).subtract(h(c||C.getDefaultEventEnd(s,l),l))),i=T(m(e._id),d,r,a,o),{dateDelta:a,durationDelta:o,undo:i}}function T(n,r,a,o,i){var s=C.getIsAmbigTimezone(),l=[];return e.each(n,function(e,n){var c=n._allDay,u=n._start,f=n._end,v=null!=a?a:c,h=u.clone(),p=!r&&f?f.clone():null;v?(h.stripTime(),p&&p.stripTime()):(h.hasTime()||(h=C.rezoneDate(h)),p&&!p.hasTime()&&(p=C.rezoneDate(p))),p||!t.forceEventDuration&&!+i||(p=C.getDefaultEventEnd(v,h)),h.add(o),p&&p.add(o).add(i),s&&(+o||+i)&&(h.stripZone(),p&&p.stripZone()),n.allDay=v,n.start=h,n.end=p,d(n),l.push(function(){n.allDay=c,n.start=u,n.end=f,d(n)})}),function(){for(var e=0;l.length>e;e++)l[e]()}}var C=this;C.isFetchNeeded=n,C.fetchEvents=r,C.addEventSource=i,C.removeEventSource=l,C.updateEvent=f,C.renderEvent=p,C.removeEvents=g,C.clientEvents=m,C.mutateEvent=w;var E,S,x=C.trigger,k=C.getView,M=C.reportEvents,R=C.getEventEnd,z={events:[]},_=[z],H=0,N=0,W=0,F=[];e.each((t.events?[t.events]:[]).concat(t.eventSources||[]),function(e,t){var n=s(t);n&&_.push(n)});var L=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function d(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}function u(t){function n(t){u=[];var n;if(e.isFunction(t))n={resources:t},u.push(n),c=void 0;else if("string"==typeof t)n={url:t},u.push(n),c=void 0;else if("object"==typeof t&&null!=t){for(var r=0;t.length>r;r++){var a=t[r];o(a),n={resources:a},u.push(n)}c=void 0}}function r(n,r){if(n=n!==void 0?n:!0,!n||void 0===c){c=[];for(var o=u.length,i=0;o>i;i++){var s=a(u[i],r);c=c.concat(s)}}return e.isFunction(t.resourceFilter)?e.grep(c,t.resourceFilter):c}function a(n,r){var a=n.resources;if(a){if(e.isFunction(a))return a()}else{var o=n.url;if(o){var i={};if("object"==typeof r){var s=t.startParam,l=t.endParam;s&&(i[s]=Math.round(+r.intervalStart/1e3)),l&&(i[l]=Math.round(+r.intervalEnd/1e3))}e.ajax(e.extend({},Ot,n,{data:i,dataType:"json",cache:!1,success:function(e){e=e||[],a=e},error:function(){},async:!1}))}}return a}function o(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Wt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}function i(e,t,n,r){var a,o,i,c,d=e._allDay,u=e._start,f=e._end,v=!1;return n||r||(n=e.start,r=e.end),a=e.allDay!=d?e.allDay:!(n||r).hasTime(),a&&(n&&(n=n.clone().stripTime()),r&&(r=r.clone().stripTime())),n&&(o=a?h(n,u.clone().stripTime()):h(n,u)),a!=d?v=!0:r&&(i=h(r||l.getDefaultEventEnd(a,n||u),n||u).subtract(h(f||l.getDefaultEventEnd(d,u),u))),c=s(l.clientEvents(e._id),v,a,o,i,t),{dateDelta:o,durationDelta:i,undo:c}}function s(n,r,a,o,i,s){var c=l.getIsAmbigTimezone(),u=[];return e.each(n,function(e,n){var f=n.resources,v=n._allDay,h=n._start,p=n._end,g=null!=a?a:v,m=h.clone(),y=!r&&p?p.clone():null;g?(m.stripTime(),y&&y.stripTime()):(m.hasTime()||(m=l.rezoneDate(m)),y&&!y.hasTime()&&(y=l.rezoneDate(y))),y||!t.forceEventDuration&&!+i||(y=l.getDefaultEventEnd(g,m)),m.add(o),y&&y.add(o).add(i),c&&(+o||+i)&&(m.stripZone(),y&&y.stripZone()),n.allDay=g,n.start=m,n.end=y,n.resources=s,d(n),u.push(function(){n.allDay=v,n.start=h,n.end=p,n.resources=f,d(n)})}),function(){for(var e=0;u.length>e;e++)u[e]()}}var l=this;l.fetchResources=r,l.setResources=n,l.mutateResourceEvent=i;var c,u=[];n(t.resources)}function f(e){var t=function(){};return t.prototype=e,new t}function v(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function h(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function p(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(t,n,r){t.unbind("mouseover").mouseover(function(t){for(var a,o,i,s=t.target;s!=this;)a=s,s=s.parentNode;void 0!==(o=a._fci)&&(a._fci=void 0,i=n[o],r(i.event,i.element,i),e(t.target).trigger(t)),t.stopPropagation()})}function m(t,n,r){for(var a,o=0;t.length>o;o++)a=e(t[o]),a.width(Math.max(0,n-D(a,r)))}function y(t,n,r){for(var a,o=0;t.length>o;o++)a=e(t[o]),a.height(Math.max(0,n-C(a,r)))}function D(e,t){return b(e)+T(e)+(t?w(e):0)}function b(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function w(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function T(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function C(e,t){return E(e)+x(e)+(t?S(e):0)}function E(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function S(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function x(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function k(){}function M(e,t){return e-t}function R(e){return Math.max.apply(Math,e)}function z(e,t){if(e=e||{},void 0!==e[t])return e[t];for(var n,r=t.split(/(?=[A-Z])/),a=r.length-1;a>=0;a--)if(n=e[r[a].toLowerCase()],void 0!==n)return n;return e["default"]}function _(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function H(e){return e.replace(/&.*?;/g,"")}function N(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function F(e,t){var n=e.source||{},r=e.color,a=n.color,o=t("eventColor"),i=e.backgroundColor||r||n.backgroundColor||a||t("eventBackgroundColor")||o,s=e.borderColor||r||n.borderColor||a||t("eventBorderColor")||o,l=e.textColor||n.textColor||t("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function O(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var a,o;for(a=0;t.length>a;a++)o=t[a].apply(n,r)||o;return o}}function A(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e]}function L(n,r,a){var o,i,s,l,c=n[0],d=1==n.length&&"string"==typeof c;return t.isMoment(c)?(l=t.apply(null,n),c._ambigTime&&(l._ambigTime=!0),c._ambigZone&&(l._ambigZone=!0)):p(c)||void 0===c?l=t.apply(null,n):(o=!1,i=!1,d?Yt.test(c)?(c+="-01",n=[c],o=!0,i=!0):(s=Zt.exec(c))&&(o=!s[5],i=!0):e.isArray(c)&&(i=!0),l=r?t.utc.apply(t,n):t.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):a&&(i?l._ambigZone=!0:d&&l.zone(c))),new Y(l)}function Y(e){v(this,e)}function Z(e){var t,n=[],r=!1,a=!1;for(t=0;e.length>t;t++)n.push(Wt.moment(e[t])),r=r||n[t]._ambigTime,a=a||n[t]._ambigZone;for(t=0;n.length>t;t++)r?n[t].stripTime():a&&n[t].stripZone();return n}function B(e,n){return t.fn.format.call(e,n)}function P(e,t){return j(e,V(t))}function j(e,t){var n,r="";for(n=0;t.length>n;n++)r+=I(e,t[n]);return r}function I(e,t){var n,r;return"string"==typeof t?t:(n=t.token)?Bt[n]?Bt[n](e):B(e,n):t.maybe&&(r=j(e,t.maybe),r.match(/[1-9]/))?r:""}function q(e,t,n,r,a){var o;return e=Wt.moment.parseZone(e),t=Wt.moment.parseZone(t),o=(e.localeData||e.lang).call(e),n=o.longDateFormat(n)||n,r=r||" - ",$(e,t,V(n),r,a)}function $(e,t,n,r,a){var o,i,s,l,c="",d="",u="",f="",v="";for(i=0;n.length>i&&(o=X(e,t,n[i]),o!==!1);i++)c+=o;for(s=n.length-1;s>i&&(o=X(e,t,n[s]),o!==!1);s--)d=o+d;for(l=i;s>=l;l++)u+=I(e,n[l]),f+=I(t,n[l]);return(u||f)&&(v=a?f+r+u:u+r+f),c+v+d}function X(e,t,n){var r,a;return"string"==typeof n?n:(r=n.token)&&(a=Pt[r.charAt(0)],a&&e.isSame(t,a))?B(e,r):!1}function V(e){return e in jt?jt[e]:jt[e]=G(e)}function G(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:G(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function U(e,t){function n(e,t){return e.clone().stripTime().add("months",t).startOf("month")}function r(e){a.intervalStart=e.clone().stripTime().startOf("month"),a.intervalEnd=a.intervalStart.clone().add("months",1),a.start=a.intervalStart.clone(),a.start=a.skipHiddenDays(a.start),a.start.startOf("week"),a.start=a.skipHiddenDays(a.start),a.end=a.intervalEnd.clone(),a.end=a.skipHiddenDays(a.end,-1,!0),a.end.add((7-a.end.weekday())%7,"days"),a.end=a.skipHiddenDays(a.end,-1,!0);var n=Math.ceil(a.end.diff(a.start,"weeks",!0));"fixed"==a.opt("weekMode")&&(a.end.add("weeks",6-n),n=6),a.title=t.formatDate(a.intervalStart,a.opt("titleFormat")),a.renderBasic(n,a.getCellsPerWeek(),!0)}var a=this;a.incrementDate=n,a.render=r,K.call(a,e,t,"month")}function Q(e,t){function n(e,t){return e.clone().stripTime().add("weeks",t).startOf("week")}function r(e){a.intervalStart=e.clone().stripTime().startOf("week"),a.intervalEnd=a.intervalStart.clone().add("weeks",1),a.start=a.skipHiddenDays(a.intervalStart),a.end=a.skipHiddenDays(a.intervalEnd,-1,!0),a.title=t.formatRange(a.start,a.end.clone().subtract(1),a.opt("titleFormat")," — "),a.renderBasic(1,a.getCellsPerWeek(),!1)}var a=this;a.incrementDate=n,a.render=r,K.call(a,e,t,"basicWeek")}function J(e,t){function n(e,t){var n=e.clone().stripTime().add(t,"days");return n=a.skipHiddenDays(n,0>t?-1:1)}function r(e){a.start=a.intervalStart=e.clone().stripTime(),a.end=a.intervalEnd=a.start.clone().add(1,"days"),a.title=t.formatDate(a.start,a.opt("titleFormat")),a.renderBasic(1,1,!1)}var a=this;a.incrementDate=n,a.render=r,K.call(a,e,t,"basicDay")}function K(t,n,r){function a(e,t,n){G=e,U=t,Q=n,o(),L||i(),s()}function o(){rt=it("theme")?"ui":"fc",at=it("columnFormat"),ot=it("weekNumbers")}function i(){I=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function s(){var n=l();F&&F.remove(),F=e(n).appendTo(t),O=F.find("thead"),A=O.find(".fc-day-header"),L=F.find("tbody"),Y=L.find("tr"),Z=L.find(".fc-day"),B=Y.find("td:first-child"),P=Y.eq(0).find(".fc-day > div"),j=Y.eq(0).find(".fc-day-content > div"),W(O.add(O.find("tr"))),W(Y),Y.eq(0).addClass("fc-first"),Y.filter(":last").addClass("fc-last"),Z.each(function(t,n){var r=ut(Math.floor(t/U),t%U);st("dayRender",H,r,e(n))}),h(Z)}function l(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+c()+d()+"</table>";return e}function c(){var e,t,n=rt+"-widget-header",r="";for(r+="<thead><tr>",ot&&(r+="<th class='fc-week-number "+n+"'>"+_(it("weekNumberTitle"))+"</th>"),e=0;U>e;e++)t=ut(0,e),r+="<th class='fc-day-header fc-"+Lt[t.day()]+" "+n+"'>"+_(ht(t,at))+"</th>";return r+="</tr></thead>"}function d(){var e,t,n,r=rt+"-widget-content",a="";for(a+="<tbody>",e=0;G>e;e++){for(a+="<tr class='fc-week'>",ot&&(n=ut(e,0),a+="<td class='fc-week-number "+r+"'>"+"<div>"+_(pt(n))+"</div>"+"</td>"),t=0;U>t;t++)n=ut(e,t),a+=u(n);a+="</tr>"}return a+="</tbody>"}function u(e){var t=H.intervalStart.month(),r=n.getNow().stripTime(),a="",o=rt+"-widget-content",i=["fc-day","fc-"+Lt[e.day()],o];return e.month()!=t&&i.push("fc-other-month"),e.isSame(r,"day")?i.push("fc-today",rt+"-state-highlight"):r>e?i.push("fc-past"):i.push("fc-future"),a+="<td class='"+i.join(" ")+"'"+" data-date='"+e.format()+"'"+">"+"<div>",Q&&(a+="<div class='fc-day-number'>"+e.date()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function f(t){$=t;var n,r,a,o=Math.max($-O.height(),0);"variable"==it("weekMode")?n=r=Math.floor(o/(1==G?2:6)):(n=Math.floor(o/G),r=o-n*(G-1)),B.each(function(t,o){G>t&&(a=e(o),a.find("> div").css("min-height",(t==G-1?r:n)-C(a)))})}function v(e){q=e,tt.clear(),nt.clear(),V=0,ot&&(V=O.find("th.fc-week-number").outerWidth()),X=Math.floor((q-V)/U),m(A.slice(0,-1),X)}function h(e){e.click(p).mousedown(dt)}function p(t){if(!it("selectable")){var r=n.moment(e(this).data("date"));st("dayClick",this,r,t)}}function g(e,t,n){n&&J.build();for(var r=vt(e,t),a=0;r.length>a;a++){var o=r[a];h(y(o.row,o.leftCol,o.row,o.rightCol))}}function y(e,n,r,a){var o=J.rect(e,n,r,a,t);return lt(o,t)}function D(e){return e.clone().stripTime().add(1,"days")}function b(e,t){g(e,t,!0)}function w(){ct()}function T(e,t){var n=ft(e),r=Z[n.row*U+n.col];st("dayClick",r,e,t)}function E(e,t){K.start(function(e){if(ct(),e){var t=ut(e),r=t.clone().add(n.defaultAllDayEventDuration);g(t,r)}},t)}function S(e,t,n){var r=K.stop();ct(),r&&st("drop",e,ut(r),t,n)}function x(e){return tt.left(e)}function k(e){return tt.right(e)}function M(e){return nt.left(e)}function R(e){return nt.right(e)}function z(e){return Y.eq(e)}var H=this;H.renderBasic=a,H.setHeight=f,H.setWidth=v,H.renderDayOverlay=g,H.defaultSelectionEnd=D,H.renderSelection=b,H.clearSelection=w,H.reportDayClick=T,H.dragStart=E,H.dragStop=S,H.getHoverListener=function(){return K},H.colLeft=x,H.colRight=k,H.colContentLeft=M,H.colContentRight=R,H.getIsCellAllDay=function(){return!0},H.allDayRow=z,H.getRowCnt=function(){return G},H.getColCnt=function(){return U},H.getColWidth=function(){return X},H.getDaySegmentContainer=function(){return I},bt.call(H,t,n,r),xt.call(H),St.call(H),et.call(H);var F,O,A,L,Y,Z,B,P,j,I,q,$,X,V,G,U,Q,J,K,tt,nt,rt,at,ot,it=H.opt,st=H.trigger,lt=H.renderOverlay,ct=H.clearOverlays,dt=H.daySelectionMousedown,ut=H.cellToDate,ft=H.dateToCell,vt=H.rangeToSegments,ht=n.formatDate,pt=n.calculateWeekNumber;N(t.addClass("fc-grid")),J=new kt(function(t,n){var r,a,o;A.each(function(t,i){r=e(i),a=r.offset().left,t&&(o[1]=a),o=[a],n[t]=o}),o[1]=a+r.outerWidth(),Y.each(function(n,i){G>n&&(r=e(i),a=r.offset().top,n&&(o[1]=a),o=[a],t[n]=o)}),o[1]=a+r.outerHeight()}),K=new Mt(J),tt=new zt(function(e){return P.eq(e)}),nt=new zt(function(e){return j.eq(e)})}function et(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,wt.call(n)}function tt(e,t){function n(e,t){return e.clone().stripTime().add("weeks",t).startOf("week")}function r(e){a.intervalStart=e.clone().stripTime().startOf("week"),a.intervalEnd=a.intervalStart.clone().add("weeks",1),a.start=a.skipHiddenDays(a.intervalStart),a.end=a.skipHiddenDays(a.intervalEnd,-1,!0),a.title=t.formatRange(a.start,a.end.clone().subtract(1),a.opt("titleFormat")," — "),a.renderAgenda(a.getCellsPerWeek())}var a=this;a.incrementDate=n,a.render=r,ot.call(a,e,t,"agendaWeek")}function nt(e,t){function n(e,t){var n=e.clone().stripTime().add(t,"days");return n=a.skipHiddenDays(n,0>t?-1:1)}function r(e){a.start=a.intervalStart=e.clone().stripTime(),a.end=a.intervalEnd=a.start.clone().add(1,"days"),a.title=t.formatDate(a.start,a.opt("titleFormat")),a.renderAgenda(1)}var a=this;a.incrementDate=n,a.render=r,ot.call(a,e,t,"agendaDay")}function rt(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function at(e,t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}function ot(n,r,a){function o(e){Tt=e,i(),$?l():s()}function i(){Nt=Yt("theme")?"ui":"fc",Wt=Yt("isRTL"),At=Yt("columnFormat"),Ft=t.duration(Yt("minTime")),Ot=t.duration(Yt("maxTime")),gt=t.duration(Yt("slotDuration")),yt=Yt("snapDuration"),yt=yt?t.duration(yt):gt}function s(){var r,a,o,i,s=Nt+"-widget-header",c=Nt+"-widget-content",d=0===gt.asMinutes()%15;for(l(),tt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Yt("allDaySlot")?(nt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(tt),r="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+(Yt("allDayHTML")||_(Yt("allDayText")))+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",rt=e(r).appendTo(tt),at=rt.find("tr"),g(at.find("td")),tt.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):nt=e([]),ot=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(tt),st=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(ot),lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(st),r="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=t.duration(+Ft),Ct=0;Ot>a;)o=q.start.clone().time(a),i=o.minutes(),r+="<tr class='fc-slot"+Ct+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(d&&i?"&nbsp;":_(Ut(o,Yt("axisFormat"))))+"</th>"+"<td class='"+c+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",a.add(gt),Ct++;r+="</tbody></table>",ct=e(r).appendTo(st),D(ct.find("td"))}function l(){var t=c();$&&$.remove(),$=e(t).appendTo(n),X=$.find("thead"),V=X.find("th").slice(1,-1),G=$.find("tbody"),U=G.find("td").slice(0,-1),Q=U.find("> div"),J=U.find(".fc-day-content > div"),K=U.eq(0),et=Q.eq(0),W(X.add(X.find("tr"))),W(G.add(G.find("tr")))}function c(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+d()+u()+"</table>";return e}function d(){var e,t,n,r=Nt+"-widget-header",a="";for(a+="<thead><tr>",Yt("weekNumbers")?(e=Xt(0,0),t=Qt(e),Wt?t+=Yt("weekNumberTitle"):t=Yt("weekNumberTitle")+t,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+_(t)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Tt>n;n++)e=Xt(0,n),a+="<th class='fc-"+Lt[e.day()]+" fc-col"+n+" "+r+"'>"+_(Ut(e,At))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function u(){var e,t,n,a,o,i=Nt+"-widget-header",s=Nt+"-widget-content",l=r.getNow().stripTime(),c="";for(c+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",t=0;Tt>t;t++)e=Xt(0,t),o=["fc-col"+t,"fc-"+Lt[e.day()],s],e.isSame(l,"day")?o.push(Nt+"-state-highlight","fc-today"):l>e?o.push("fc-past"):o.push("fc-future"),a="<td class='"+o.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=a;return c+=n,c+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function f(e){void 0===e&&(e=ft),ft=e,Jt={};var t=G.position().top,n=ot.position().top,r=Math.min(e-t,ct.height()+n+1);et.height(r-C(K)),tt.css("top",t),ot.height(r-n-1);var a=ct.find("tr:first").height()+1,o=ct.find("tr:eq(1)").height();mt=(a+o)/2,Dt=gt/yt,wt=mt/Dt}function v(t){ut=t,_t.clear(),Ht.clear();var n=X.find("th:first");rt&&(n=n.add(rt.find("th:first"))),n=n.add(ct.find("th:first")),vt=0,m(n.width("").each(function(t,n){vt=Math.max(vt,e(n).outerWidth())}),vt);var r=$.find(".fc-agenda-gutter");rt&&(r=r.add(rt.find("th.fc-agenda-gutter")));var a=ot[0].clientWidth;pt=ot.width()-a,pt?(m(r,pt),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),ht=Math.floor((a-vt)/Tt),m(V.slice(0,-1),ht)}function h(){function e(){ot.scrollTop(n)}var n=O(t.duration(Yt("scrollTime")))+1;e(),setTimeout(e,0)}function p(){h()}function g(e){e.click(b).mousedown(qt)}function D(e){e.click(b).mousedown(B)}function b(e){if(!Yt("selectable")){var t=Math.min(Tt-1,Math.floor((e.pageX-$.offset().left-vt)/ht)),n=Xt(0,t),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var o=parseInt(a[1],10);n.add(Ft+o*gt),n=r.rezoneDate(n),Zt("dayClick",U[t],n,e)}else Zt("dayClick",U[t],n,e)}}function w(e,t,n){n&&Et.build();for(var r=Gt(e,t),a=0;r.length>a;a++){var o=r[a];g(T(o.row,o.leftCol,o.row,o.rightCol))}}function T(e,t,n,r){var a=Et.rect(e,t,n,r,tt);return Bt(a,tt)}function E(e,t){e=e.clone().stripZone(),t=t.clone().stripZone();for(var n=0;Tt>n;n++){var r=Xt(0,n),a=r.clone().add(1,"days"),o=e>r?e:r,i=t>a?a:t;if(i>o){var s=Et.rect(0,n,0,n,st),l=F(o,r),c=F(i,r);s.top=l,s.height=c-l,D(Bt(s,st))}}}function S(e){return _t.left(e)}function x(e){return Ht.left(e)}function k(e){return _t.right(e)}function R(e){return Ht.right(e)}function z(e){return Yt("allDaySlot")&&!e.row}function H(e){var n=Xt(0,e.col),a=e.row;return Yt("allDaySlot")&&a--,a>=0&&(n.time(t.duration(Ft+a*yt)),n=r.rezoneDate(n)),n}function F(e,n){return O(t.duration(e.clone().stripZone()-n.clone().stripTime()))}function O(e){if(Ft>e)return 0;if(e>=Ot)return ct.height();var t=(e-Ft)/gt,n=Math.floor(t),r=t-n,a=Jt[n];void 0===a&&(a=Jt[n]=ct.find("tr").eq(n).find("td div")[0].offsetTop);var o=a-1+r*mt;return o=Math.max(o,0)}function A(e){return e.hasTime()?e.clone().add(gt):e.clone().add(1,"days")}function L(e,t){e.hasTime()||t.hasTime()?Y(e,t):Yt("allDaySlot")&&w(e,t,!0)
}function Y(t,n){var r=Yt("selectHelper");if(Et.build(),r){var a=Vt(t).col;if(a>=0&&Tt>a){var o=Et.rect(0,a,0,a,st),i=F(t,t),s=F(n,t);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,e.isFunction(r)){var l=r(t,n);l&&(o.position="absolute",dt=e(l).css(o).appendTo(st))}else o.isStart=!0,o.isEnd=!0,dt=e($t({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},o)),dt.css("opacity",Yt("dragOpacity"));dt&&(D(dt),st.append(dt),m(dt,o.width,!0),y(dt,o.height,!0))}}}else E(t,n)}function Z(){Pt(),dt&&(dt.remove(),dt=null)}function B(t){if(1==t.which&&Yt("selectable")){It(t);var n;Rt.start(function(e,t){if(Z(),e&&e.col==t.col&&!z(e)){var r=H(t),a=H(e);n=[r,r.clone().add(yt),a,a.clone().add(yt)].sort(M),Y(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){Rt.stop(),n&&(+n[0]==+n[1]&&P(n[0],e),jt(n[0],n[3],e))})}}function P(e,t){Zt("dayClick",U[Vt(e).col],e,t)}function j(e,t){Rt.start(function(e){if(Pt(),e){var t=H(e),n=t.clone();t.hasTime()?(n.add(r.defaultTimedEventDuration),E(t,n)):(n.add(r.defaultAllDayEventDuration),w(t,n))}},t)}function I(e,t,n){var r=Rt.stop();Pt(),r&&Zt("drop",e,H(r),t,n)}var q=this;q.renderAgenda=o,q.setWidth=v,q.setHeight=f,q.afterRender=p,q.computeDateTop=F,q.getIsCellAllDay=z,q.allDayRow=function(){return at},q.getCoordinateGrid=function(){return Et},q.getHoverListener=function(){return Rt},q.colLeft=S,q.colRight=k,q.colContentLeft=x,q.colContentRight=R,q.getDaySegmentContainer=function(){return nt},q.getSlotSegmentContainer=function(){return lt},q.getSlotContainer=function(){return st},q.getRowCnt=function(){return 1},q.getColCnt=function(){return Tt},q.getColWidth=function(){return ht},q.getSnapHeight=function(){return wt},q.getSnapDuration=function(){return yt},q.getSlotHeight=function(){return mt},q.getSlotDuration=function(){return gt},q.getMinTime=function(){return Ft},q.getMaxTime=function(){return Ot},q.defaultSelectionEnd=A,q.renderDayOverlay=w,q.renderSelection=L,q.clearSelection=Z,q.reportDayClick=P,q.dragStart=j,q.dragStop=I,bt.call(q,n,r,a),xt.call(q),St.call(q),it.call(q);var $,X,V,G,U,Q,J,K,et,tt,nt,rt,at,ot,st,lt,ct,dt,ut,ft,vt,ht,pt,gt,mt,yt,Dt,wt,Tt,Ct,Et,Rt,_t,Ht,Nt,Wt,Ft,Ot,At,Yt=q.opt,Zt=q.trigger,Bt=q.renderOverlay,Pt=q.clearOverlays,jt=q.reportSelection,It=q.unselect,qt=q.daySelectionMousedown,$t=q.slotSegHtml,Xt=q.cellToDate,Vt=q.dateToCell,Gt=q.rangeToSegments,Ut=r.formatDate,Qt=r.calculateWeekNumber,Jt={};N(n.addClass("fc-agenda")),Et=new kt(function(t,n){function r(e){return Math.max(l,Math.min(c,e))}var a,o,i;V.each(function(t,r){a=e(r),o=a.offset().left,t&&(i[1]=o),i=[o],n[t]=i}),i[1]=o+a.outerWidth(),Yt("allDaySlot")&&(a=at,o=a.offset().top,t[0]=[o,o+a.outerHeight()]);for(var s=st.offset().top,l=ot.offset().top,c=l+ot.outerHeight(),d=0;Ct*Dt>d;d++)t.push([r(s+wt*d),r(s+wt*(d+1))])}),Rt=new Mt(Et),_t=new zt(function(e){return Q.eq(e)}),Ht=new zt(function(e){return J.eq(e)})}function it(){function n(e,t){var n,r=e.length,o=[],s=[];for(n=0;r>n;n++)e[n].allDay?o.push(e[n]):s.push(e[n]);v("allDaySlot")&&(X(o,t),w()),i(a(s),t)}function r(){T().empty(),E().empty()}function a(e){var t,n,r,a,i,s=H(),l=V(),c=G(),d=[];for(n=0;s>n;n++)for(t=z(0,n),i=o(e,t.clone().time(l),t.clone().time(c)),i=st(i),r=0;i.length>r;r++)a=i[r],a.col=n,d.push(a);return d}function o(e,t,n){t=t.clone().stripZone(),n=n.clone().stripZone();var r,a,o,i,s,l,c,d,u=[],f=e.length;for(r=0;f>r;r++)a=e[r],o=a.start.clone().stripZone(),i=J(a).stripZone(),i>t&&n>o&&(t>o?(s=t.clone(),c=!1):(s=o,c=!0),i>n?(l=n.clone(),d=!1):(l=i,d=!0),u.push({event:a,start:s,end:l,isStart:c,isEnd:d}));return u.sort(gt)}function i(t,n){var r,a,o,i,c,d,u,f,p,m,y,b,w,T,S,k,z=t.length,_="",H=E(),N=v("isRTL");for(r=0;z>r;r++)a=t[r],o=a.event,i=x(a.start,a.start),c=x(a.end,a.start),d=M(a.col),u=R(a.col),f=u-d,u-=.025*f,f=u-d,p=f*(a.forwardCoord-a.backwardCoord),v("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),N?(y=u-a.backwardCoord*f,m=y-p):(m=d+a.backwardCoord*f,y=m+p),m=Math.max(m,d),y=Math.min(y,u),p=y-m,a.top=i,a.left=m,a.outerWidth=p,a.outerHeight=c-i,_+=s(o,a);for(H[0].innerHTML=_,b=H.children(),r=0;z>r;r++)a=t[r],o=a.event,w=e(b[r]),T=h("eventRender",o,o,w),T===!1?w.remove():(T&&T!==!0&&(w.remove(),w=e(T).css({position:"absolute",top:a.top,left:a.left}).appendTo(H)),a.element=w,o._id===n?l(o,w,a):w[0]._fci=r,Z(o,w));for(g(H,t,l),r=0;z>r;r++)a=t[r],(w=a.element)&&(a.vsides=C(w,!0),a.hsides=D(w,!0),S=w.find(".fc-event-title"),S.length&&(a.contentTop=S[0].offsetTop));for(r=0;z>r;r++)a=t[r],(w=a.element)&&(w[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",k=Math.max(0,a.outerHeight-a.vsides),w[0].style.height=k+"px",o=a.event,void 0!==a.contentTop&&10>k-a.contentTop&&(w.find("div.fc-event-time").text(Q(o.start,v("timeFormat"))+" - "+o.title),w.find("div.fc-event-title").remove()),h("eventAfterRender",o,o,w))}function s(e,t){var n="<",r=e.url,a=F(e,v),o=["fc-event","fc-event-vert"];return p(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=r?"a href='"+_(e.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+_(f.getEventTimeText(e))+"</div>"+"<div class='fc-event-title'>"+_(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&m(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function l(e,t,n){var r=t.find("div.fc-event-time");p(e)&&d(e,t,r),n.isEnd&&m(e)&&u(e,t,r),b(e,t)}function c(e,n,r){function a(){c||(n.width(o).height("").draggable("option","grid",null),c=!0)}var o,i,s,l=r.isStart,c=!0,d=S(),u=N(),f=V(),p=L(),g=A(),m=O(),D=W();n.draggable({opacity:v("dragOpacity","month"),revertDuration:v("dragRevertDuration"),start:function(t,r){h("eventDragStart",n[0],e,t,r),P(e,n),o=n.width(),d.start(function(t,r){if($(),t){i=!1;var o=z(0,r.col),d=z(0,t.col);s=d.diff(o,"days"),t.row?l?c&&(n.width(u-10),y(n,U.defaultTimedEventDuration/p*g),n.draggable("option","grid",[u,1]),c=!1):i=!0:(q(e.start.clone().add(s,"days"),J(e).add(s,"days")),a()),i=i||c&&!s}else a(),i=!0;n.draggable("option","revert",i)},t,"drag")},stop:function(r,o){if(d.stop(),$(),h("eventDragStop",n[0],e,r,o),i)a(),n.css("filter",""),B(e,n);else{var l,u,v=e.start.clone().add(s,"days");c||(u=Math.round((n.offset().top-Y().offset().top)/D),l=t.duration(f+u*m),v=U.rezoneDate(v.clone().time(l))),j(n[0],e,v,r,o)}}})}function d(e,t,n){function r(){$(),s&&(c?(n.hide(),t.draggable("option","grid",null),q(D,b)):(a(),n.css("display",""),t.draggable("option","grid",[C,E])))}function a(){D&&n.text(f.getEventTimeText(D,e.end?b:null))}var o,i,s,l,c,d,u,p,g,m,y,D,b,w=f.getCoordinateGrid(),T=H(),C=N(),E=W(),S=O();t.draggable({scroll:!1,grid:[C,E],axis:1==T?"y":!1,opacity:v("dragOpacity"),revertDuration:v("dragRevertDuration"),start:function(n,r){h("eventDragStart",t[0],e,n,r),P(e,t),w.build(),o=t.position(),i=w.cell(n.pageX,n.pageY),s=l=!0,c=d=k(i),u=p=0,g=0,m=y=0,D=null,b=null},drag:function(n,a){var f=w.cell(n.pageX,n.pageY);if(s=!!f){if(c=k(f),u=Math.round((a.position.left-o.left)/C),u!=p){var v=z(0,i.col),h=i.col+u;h=Math.max(0,h),h=Math.min(T-1,h);var x=z(0,h);g=x.diff(v,"days")}c||(m=Math.round((a.position.top-o.top)/E))}(s!=l||c!=d||u!=p||m!=y)&&(c?(D=e.start.clone().stripTime().add(g,"days"),b=D.clone().add(U.defaultAllDayEventDuration)):(D=e.start.clone().add(m*S).add(g,"days"),b=J(e).add(m*S).add(g,"days")),r(),l=s,d=c,p=u,y=m),t.draggable("option","revert",!s)},stop:function(n,a){$(),h("eventDragStop",t[0],e,n,a),s&&(c||g||m)?j(t[0],e,D,n,a):(s=!0,c=!1,u=0,g=0,m=0,r(),t.css("filter",""),t.css(o),B(e,t))}})}function u(e,t,n){var r,a,o,i=W(),s=O();t.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,o){r=a=0,P(e,t),h("eventResizeStart",t[0],e,n,o)},resize:function(l,c){if(r=Math.round((Math.max(i,t.height())-c.originalSize.height)/i),r!=a){o=J(e).add(s*r);var d;d=r?f.getEventTimeText(e.start,o):f.getEventTimeText(e),n.text(d),a=r}},stop:function(n,a){h("eventResizeStop",t[0],e,n,a),r?I(t[0],e,o,n,a):B(e,t)}})}var f=this;f.renderEvents=n,f.clearEvents=r,f.slotSegHtml=s,wt.call(f);var v=f.opt,h=f.trigger,p=f.isEventDraggable,m=f.isEventResizable,b=f.eventElementHandlers,w=f.setHeight,T=f.getDaySegmentContainer,E=f.getSlotSegmentContainer,S=f.getHoverListener,x=f.computeDateTop,k=f.getIsCellAllDay,M=f.colContentLeft,R=f.colContentRight,z=f.cellToDate,H=f.getColCnt,N=f.getColWidth,W=f.getSnapHeight,O=f.getSnapDuration,A=f.getSlotHeight,L=f.getSlotDuration,Y=f.getSlotContainer,Z=f.reportEventElement,B=f.showEvents,P=f.hideEvents,j=f.eventDrop,I=f.eventResize,q=f.renderDayOverlay,$=f.clearOverlays,X=f.renderDayEvents,V=f.getMinTime,G=f.getMaxTime,U=f.calendar,Q=U.formatDate,J=U.getEventEnd;f.draggableDayEvent=c}function st(e){var t,n=lt(e),r=n[0];if(ct(n),r){for(t=0;r.length>t;t++)dt(r[t]);for(t=0;r.length>t;t++)ut(r[t],0,0)}return ft(n)}function lt(e){var t,n,r,a=[];for(t=0;e.length>t;t++){for(n=e[t],r=0;a.length>r&&vt(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function ct(e){var t,n,r,a,o;for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)for(a=n[r],a.forwardSegs=[],o=t+1;e.length>o;o++)vt(a,e[o],a.forwardSegs)}function dt(e){var t,n,r=e.forwardSegs,a=0;if(void 0===e.forwardPressure){for(t=0;r.length>t;t++)n=r[t],dt(n),a=Math.max(a,1+n.forwardPressure);e.forwardPressure=a}}function ut(e,t,n){var r,a=e.forwardSegs;if(void 0===e.forwardCoord)for(a.length?(a.sort(pt),ut(a[0],t+1,n),e.forwardCoord=a[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;a.length>r;r++)ut(a[r],0,e.forwardCoord)}function ft(e){var t,n,r,a=[];for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)a.push(n[r]);return a}function vt(e,t,n){n=n||[];for(var r=0;t.length>r;r++)ht(e,t[r])&&n.push(t[r]);return n}function ht(e,t){return e.end>t.start&&e.start<t.end}function pt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||gt(e,t)}function gt(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function mt(e,t){function n(e,t){var n=e.clone().stripTime().add(t,"days");return n=a.skipHiddenDays(n,0>t?-1:1)}function r(e){a.start=a.intervalStart=e.clone().stripTime(),a.end=a.intervalEnd=a.start.clone().add(1,"days"),a.title=t.formatDate(a.start,a.opt("titleFormat")),a.renderResource(o().length)}var a=this;a.incrementDate=n,a.render=r,yt.call(a,e,t,"resourceDay");var o=a.getResources}function yt(n,r,a){function o(e){Ct=e,i(),X?l():s()}function i(){Wt=Zt("theme")?"ui":"fc",Ft=Zt("isRTL"),Yt=Zt("columnFormat"),Ot=t.duration(Zt("minTime")),At=t.duration(Zt("maxTime")),gt=t.duration(Zt("slotDuration")),yt=Zt("snapDuration"),yt=yt?t.duration(yt):gt}function s(){var r,a,o,i,s=Wt+"-widget-header",c=Wt+"-widget-content",d=0===gt.asMinutes()%15;for(l(),nt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Zt("allDaySlot")?(rt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(nt),r="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+(Zt("allDayHTML")||_(Zt("allDayText")))+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",at=e(r).appendTo(nt),ot=at.find("tr"),h(ot.find("td")),nt.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):rt=e([]),it=e("<div style='position:absolute;width:100%;overflow:auto'/>").appendTo(nt),it.on("scroll",function(){if(X){var e=it[0].scrollLeft;X[0].style.left=-e+"px",ct[0].style.left=e+"px"}}),st=e("<div style='position:relative;overflow:hidden'/>").appendTo(it),lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(st),r="<table class='fc-agenda-slots' style='position:relative;width:100%' cellspacing='0'><tbody>",a=t.duration(+Ot),Et=0;At>a;)o=$.start.clone().time(a),i=o.minutes(),r+="<tr class='fc-slot"+Et+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(d&&i?"&nbsp;":_(Ut(o,Zt("axisFormat"))))+"</th>"+"<td class='"+c+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",a.add(gt),Et++;r+="</tbody></table>",ct=e(r).appendTo(st),p(ct.find("td"))}function l(){var t=c();X&&X.remove(),X=e(t).appendTo(n),V=X.find("thead"),G=V.find("th").slice(1,-1),U=X.find("tbody"),Q=U.find("td").slice(0,-1),J=Q.find("> div"),K=Q.find(".fc-day-content > div"),et=Q.eq(0),tt=J.eq(0),W(V.add(V.find("tr"))),W(U.add(U.find("tr")))}function c(){var e="<table style='position:relative;width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+d()+u()+"</table>";return e}function d(){var e,t,n,r=Wt+"-widget-header",a="";for(a+="<thead><tr>",Zt("weekNumbers")?(e=Xt(0,0),t=Qt(e),Ft?t+=Zt("weekNumberTitle"):t=Zt("weekNumberTitle")+t,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+_(t)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Ct>n;n++){var o=en()[n],i=["fc-col"+n,o.className,r];a+="<th class='"+i.join(" ")+"'>"+_(o.name)+"</th>"}return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function u(){var e,t,n,a,o,i=Wt+"-widget-header",s=Wt+"-widget-content",l=r.getNow().stripTime(),c="";for(c+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",t=0;(Ct||1)>t;t++){var d=en()[t];e=$.intervalStart.clone(),o=["fc-col"+t,"fc-"+Lt[e.day()],s],d&&d.className&&o.push(d.className),e.isSame(l,"day")?o.push(Wt+"-state-highlight","fc-today"):l>e?o.push("fc-past"):o.push("fc-future"),a="<td class='"+o.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=a}return c+=n,c+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function f(e){void 0===e&&(e=ft),ft=e,Kt={};var t=U.position().top,n=it.position().top,r=Math.min(e-t,ct.height()+n+1);tt.height(r-C(et)),nt.css("top",t);var a=ct.find("tr:first").height()+1,o=ct.find("tr:eq(1)").height();mt=(a+o)/2,wt=gt/yt,Tt=mt/wt}function v(t){ut=t,Ht.clear(),Nt.clear();var n=V.find("th:first");at&&(n=n.add(at.find("th:first"))),n=n.add(ct.find("th:first")),vt=0,m(n.width("").each(function(t,n){vt=Math.max(vt,e(n).outerWidth())}),vt);var a=X.find(".fc-agenda-gutter");at&&(a=a.add(at.find("th.fc-agenda-gutter")));var o=r.options.minResourceWidth||1,i=Math.max(it[0].clientWidth,vt+$.getColCnt()*o);1===$.getColCnt()&&(i=Math.max(vt+o,Math.floor(.66*it[0].clientWidth)));var s=i+"px";st[0].style.minWidth=s,st[0].style.maxWidth=s,st[0].style.width=s,X[0].style.minWidth=s,X[0].style.maxWidth=s,X[0].style.width=s,rt.length&&(rt[0].style.minWidth=s,rt[0].style.maxWidth=s,rt[0].style.width=s),ht=Math.floor((i-vt)/Ct),m(G.slice(0,-1),ht),pt=i-vt-$.getColCnt()*ht,pt?(m(a,pt),a.show().prev().removeClass("fc-last")):a.hide().prev().addClass("fc-last")}function h(e){e.click(g).mousedown(q)}function p(e){e.click(g).mousedown(Y)}function g(e){if(!Zt("selectable")){var t=Math.min(Ct-1,Math.floor((e.pageX-X.offset().left-vt)/ht)),n=Xt(0,0),a=this.parentNode.className.match(/fc-slot(\d+)/);if(e.data=en()[t],a){var o=parseInt(a[1],10);n.add(Ot+o*gt),n=r.rezoneDate(n),Bt("dayClick",Q[t],n,e)}else Bt("dayClick",Q[t],n,e)}}function D(e,t,n,r){n&&Rt.build();for(var a=Gt(e,t),o=0;a.length>o;o++){var i=a[o];h(b(i.row,r,i.row,r))}}function b(e,t,n,r){var a=Rt.rect(e,t,n,r,nt);return Pt(a,nt)}function w(e,t,n){e=e.clone().stripZone(),t=t.clone().stripZone();var r=Xt(0,0),a=r.clone().add(1,"days"),o=e>r?e:r,i=t>a?a:t;if(i>o){var s=Rt.rect(0,n,0,n,st),l=z(o,r),c=z(i,r);s.top=l,s.height=c-l,p(Pt(s,st))}}function T(e){return Ht.left(e)}function E(e){return Nt.left(e)}function S(e){return Ht.right(e)}function x(e){return Nt.right(e)}function k(e){return Zt("allDaySlot")&&!e.row}function R(e){var n=Xt(0,0),a=e.row;return Zt("allDaySlot")&&a--,a>=0&&(n.time(t.duration(Ot+a*yt)),n=r.rezoneDate(n)),n}function z(e,n){return H(t.duration(e.clone().stripZone()-n.clone().stripTime()))}function H(e){if(Ot>e)return 0;if(e>=At)return ct.height();var t=(e-Ot)/gt,n=Math.floor(t),r=t-n,a=Kt[n];void 0===a&&(a=Kt[n]=ct.find("tr").eq(n).find("td div")[0].offsetTop);var o=a-1+r*mt;return o=Math.max(o,0)}function F(e){return e.hasTime()?e.clone().add(gt):e.clone().add(1,"days")}function O(e,t,n){e.hasTime()||t.hasTime()?A(e,t):Zt("allDaySlot")&&D(e,t,!0,n)}function A(t,n,r){var a=Zt("selectHelper");if(Rt.build(),a){if(r=r||Vt(t).col,r>=0&&Ct>r){var o=Rt.rect(0,r,0,r,st),i=z(t,t),s=z(n,t);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,e.isFunction(a)){var l=a(t,n);l&&(o.position="absolute",dt=e(l).css(o).appendTo(st))}else o.isStart=!0,o.isEnd=!0,dt=e($t({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},o)),dt.css("opacity",Zt("dragOpacity"));dt&&(p(dt),st.append(dt),m(dt,o.width,!0),y(dt,o.height,!0))}}}else w(t,n,r)}function L(){jt(),dt&&(dt.remove(),dt=null)}function Y(t){if(1==t.which&&Zt("selectable")){qt(t);var n,r;_t.start(function(e,t){if(L(),e&&e.col==t.col&&!k(e)){r=e.col;var a=R(t),o=R(e);n=[a,a.clone().add(yt),o,o.clone().add(yt)].sort(M),A(n[0],n[3],e.col)}else n=null},t),e(document).one("mouseup",function(e){_t.stop(),n&&(+n[0]==+n[1]&&Z(n[0],e),e.data=en()[r],It(n[0],n[3],e))})}}function Z(e,t){Bt("dayClick",Q[Vt(e).col],e,t)}function B(e,t,n,a,o,i){var s=r.mutateResourceEvent(t,n,a,null);Bt("eventDrop",e,t,s.dateDelta,function(){s.undo(),Jt(t._id)},o,i),Jt(t._id)}function P(e,t,n,a,o){var i=r.mutateResourceEvent(t,t.resources,null,n);Bt("eventResize",e,t,i.durationDelta,function(){i.undo(),Jt(t._id)},a,o),Jt(t._id)}function j(t,n){_t.start(function(n){if(jt(),n){var a=R(n),o=a.clone();if(a.hasTime()){var i=e(t).data("event");i&&i.duration?o.add(i.duration):o.add(r.defaultTimedEventDuration),w(a,o,n.col)}else o.add(r.defaultAllDayEventDuration),D(a,o,!0,n.col)}},n)}function I(e,t,n){var r=_t.stop();jt(),r&&(t.data=en()[r.col],Bt("drop",e,R(r),t,n))}function q(t){var n,r=$.getIsCellAllDay,a=$.getHoverListener(),o=$.reportDayClick;if(1==t.which&&Zt("selectable")){qt(t);var i;a.start(function(e,t){L(),e&&r(e)?(n=e.col,i=[R(t),R(e)].sort(M),O(i[0],i[1],n)):i=null},t),e(document).one("mouseup",function(e){a.stop(),i&&(+i[0]==+i[1]&&o(i[0],!0,e),e.data=en()[n],It(i[0],i[1],e))})}}var $=this;$.renderResource=o,$.setWidth=v,$.setHeight=f,$.computeDateTop=z,$.getIsCellAllDay=k,$.allDayRow=function(){return ot},$.getCoordinateGrid=function(){return Rt},$.getHoverListener=function(){return _t},$.colLeft=T,$.colRight=S,$.colContentLeft=E,$.colContentRight=x,$.getDaySegmentContainer=function(){return rt},$.getSlotSegmentContainer=function(){return lt},$.getSlotContainer=function(){return st},$.getRowCnt=function(){return 1},$.getColWidth=function(){return ht},$.getSnapHeight=function(){return Tt},$.getSnapDuration=function(){return yt},$.getSlotHeight=function(){return mt},$.getSlotDuration=function(){return gt},$.getMinTime=function(){return Ot},$.getMaxTime=function(){return At},$.defaultSelectionEnd=F,$.renderDayOverlay=D,$.renderSelection=O,$.clearSelection=L,$.reportDayClick=Z,$.dragStart=j,$.dragStop=I,$.getResources=r.fetchResources,bt.call($,n,r,a),$.eventDrop=B,$.eventResize=P,xt.call($),St.call($),Dt.call($);var X,V,G,U,Q,J,K,et,tt,nt,rt,at,ot,it,st,lt,ct,dt,ut,ft,vt,ht,pt,gt,mt,yt,wt,Tt,Ct,Et,Rt,_t,Ht,Nt,Wt,Ft,Ot,At,Yt,Zt=$.opt,Bt=$.trigger,Pt=$.renderOverlay,jt=$.clearOverlays,It=$.reportSelection,qt=$.unselect,$t=$.slotSegHtml,Xt=$.cellToDate,Vt=$.dateToCell,Gt=$.rangeToSegments,Ut=r.formatDate,Qt=r.calculateWeekNumber,Jt=r.reportEventChange,Kt={},en=$.getResources;N(n.addClass("fc-agenda")),Rt=new kt(function(t,n){function r(e){return Math.max(l,Math.min(c,e))}var a,o,i;G.each(function(t,r){a=e(r),o=a.offset().left,t&&(i[1]=o),i=[o],n[t]=i}),i[1]=o+a.outerWidth(),Zt("allDaySlot")&&(a=ot,o=a.offset().top,t[0]=[o,o+a.outerHeight()]);for(var s=st.offset().top,l=it.offset().top,c=l+it.outerHeight(),d=0;Et*wt>d;d++)t.push([r(s+Tt*d),r(s+Tt*(d+1))])}),_t=new Mt(Rt),Ht=new zt(function(e){return J.eq(e)}),Nt=new zt(function(e){return K.eq(e)})}function Dt(){function n(){return J().length}function r(e,t){var n,r=e.length,a=[],i=[];for(n=0;r>n;n++)e[n].allDay?a.push(e[n]):i.push(e[n]);p("allDaySlot")&&($(a,t),T()),l(o(i),t)}function a(){C().empty(),E().empty()}function o(e){var t,r,a,o,l,c=n(),d=X(),u=V(),f=[];for(r=0;c>r;r++){t=z(0,0);var v=s(J()[r],e);for(l=i(v,t.clone().time(d),t.clone().time(u)),l=st(l),a=0;l.length>a;a++)o=l[a],o.col=r,f.push(o)}return f}function i(e,t,n){t=t.clone().stripZone(),n=n.clone().stripZone();var r,a,o,i,s,l,c,d,u=[],f=e.length;for(r=0;f>r;r++)a=e[r],o=a.start.clone().stripZone(),i=Q(a).stripZone(),i>t&&n>o&&(t>o?(s=t.clone(),c=!1):(s=o,c=!0),i>n?(l=n.clone(),d=!1):(l=i,d=!0),u.push({event:a,start:s,end:l,isStart:c,isEnd:d}));return u.sort(gt)}function s(t,n){for(var r=[],a=function(n){return n.resources&&e.grep(n.resources,function(e){return e==t.id}).length},o=0;n.length>o;o++)a(n[o])&&r.push(n[o]);return r}function l(t,n){function r(){for(a=0;k>a;a++)o=t[a],i=o.event,w=e(b[a]),T=m("eventRender",i,i,w),T===!1?w.remove():(T&&T!==!0&&(w.remove(),w=e(T).css({position:"absolute",top:o.top,left:o.left}).appendTo(_)),o.element=w,i._id===n?d(i,w,o):w[0]._fci=a,Y(i,w));for(g(_,t,d),a=0;k>a;a++)o=t[a],(w=o.element)&&(o.vsides=1,o.hsides=4,C=w.find(".fc-event-title"),C.length&&(o.contentTop=0));for(a=0;k>a;a++)o=t[a],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",S=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=S+"px",i=o.event,void 0!==o.contentTop&&10>S-o.contentTop&&(w.find("div.fc-event-time").text(U(i.start,p("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),m("eventAfterRender",i,i,w))}var a,o,i,s,l,u,f,v,h,y,D,b,w,T,C,S,k=t.length,z="",_=E(),H=p("isRTL");for(a=0;k>a;a++)o=t[a],i=o.event,s=x(o.start,o.start),l=x(o.end,o.start),u=M(o.col),f=R(o.col),v=f-u,f-=.025*v,v=f-u,h=v*(o.forwardCoord-o.backwardCoord),p("slotEventOverlap")&&(h=Math.max(2*(h-10),h)),H?(D=f-o.backwardCoord*v,y=D-h):(y=u+o.backwardCoord*v,D=y+h),y=Math.max(y,u),D=Math.min(D,f),h=D-y,o.top=s,o.left=y,o.outerWidth=h,o.outerHeight=l-s,z+=c(i,o);var N=_.parent();_.detach(),_[0].innerHTML=z,b=_.children(),r(),_.appendTo(N)}function c(e,t){var n="<",r=e.url,a=F(e,p),o=["fc-event","fc-event-vert"];return D(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=r?"a href='"+_(e.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+_(h.getEventTimeText(e))+"</div>"+"<div class='fc-event-title'>"+_(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&b(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function d(e,t,n){var r=t.find("div.fc-event-time");D(e)&&f(e,t,r),n.isEnd&&b(e)&&v(e,t,r),w(e,t)}function u(e,n,r){function a(){d||(n.width(o).height("").draggable("option","grid",null),d=!0)}var o,i,s,l,c=r.isStart,d=!0,u=S(),f=H(),v=X(),h=A(),g=O(),D=W(),b=N();n.draggable({opacity:p("dragOpacity","month"),revertDuration:p("dragRevertDuration"),start:function(t,r){m("eventDragStart",n[0],e,t,r),B(e,n),o=n.width(),u.start(function(t,r){if(q(),t){i=!1,l=r.col;var o=z(0,r.col),u=z(0,t.col);s=u.diff(o,"days"),t.row?c?d&&(n.width(f-10),y(n,G.defaultTimedEventDuration/h*g),n.draggable("option","grid",[f,1]),d=!1):i=!0:(I(e.start.clone().add(s,"days"),Q(e).add(s,"days"),!0,1),a()),i=i||d&&!s}else a(),i=!0;n.draggable("option","revert",i)},t,"drag")},stop:function(r,o){if(u.stop(),q(),m("eventDragStop",n[0],e,r,o),i)a(),n.css("filter",""),Z(e,n);else{var s=Math.round((n.offset().left-L().offset().left)/f),c=e.resources;s!==l&&(c=[J()[s].id]);var h,p,g=e.start.clone();d||(p=Math.round((n.offset().top-L().offset().top)/b),h=t.duration(v+p*D),g=G.rezoneDate(g.clone().time(h))),P(n[0],e,c,g,r,o)}}})}function f(e,t,r){function a(){q(),l&&(d?(r.hide(),t.draggable("option","grid",null),I(w,T,!1,s.col+f)):(o(),r.css("display",""),t.draggable("option","grid",[S,x])))}function o(){w&&r.text(h.getEventTimeText(w,e.end?T:null))}var i,s,l,c,d,u,f,v,g,y,D,b,w,T,C=h.getCoordinateGrid(),E=n(),S=H(),x=N(),M=W();t.draggable({scroll:!1,grid:[S,x],axis:1==E?"y":!1,opacity:p("dragOpacity"),revertDuration:p("dragRevertDuration"),start:function(n,r){m("eventDragStart",t[0],e,n,r),B(e,t),C.build(),i=t.position(),s=C.cell(n.pageX,n.pageY),l=c=!0,d=u=k(s),f=v=0,g=0,y=0,D=b=0,w=null,T=null},drag:function(n,r){var o=C.cell(n.pageX,n.pageY);l=!!o,l&&(d=k(o),f=Math.round((r.position.left-i.left)/S),f!=v&&(y=f),d||(D=Math.round((r.position.top-i.top)/x))),(l!=c||d!=u||f!=v||D!=b)&&(d?(w=e.start.clone().stripTime().add(g,"days"),T=w.clone().add(G.defaultAllDayEventDuration)):(w=e.start.clone().add(D*M).add(g,"days"),T=Q(e).add(D*M).add(g,"days")),a(),c=l,u=d,v=f,b=D),t.draggable("option","revert",!l)},stop:function(n,r){if(q(),m("eventDragStop",t[0],e,n,r),l&&(d||y||D)){var o=e.resources.slice(0);if(y){var c=J(),u=c[s.col+y].id,v=c[s.col].id,h=e.resources.indexOf(v),p=e.resources.indexOf(u);p>-1?o.splice(h,1):o[h]=u}P(t[0],e,o,w,n,r)}else l=!0,d=!1,f=0,g=0,D=0,a(),t.css("filter",""),t.css(i),Z(e,t)}})}function v(e,t,n){var r,a,o,i=N(),s=W();t.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,o){r=a=0,B(e,t),m("eventResizeStart",t[0],e,n,o)},resize:function(l,c){if(r=Math.round((Math.max(i,t.height())-c.originalSize.height)/i),r!=a){o=Q(e).add(s*r);var d;d=r?h.getEventTimeText(e.start,o):h.getEventTimeText(e),n.text(d),a=r}},stop:function(n,a){m("eventResizeStop",t[0],e,n,a),r?j(t[0],e,o,n,a):Z(e,t)}})}var h=this;h.renderEvents=r,h.clearEvents=a,h.slotSegHtml=c,h.getColCnt=n,wt.call(h);var p=h.opt,m=h.trigger,D=h.isEventDraggable,b=h.isEventResizable,w=h.eventElementHandlers,T=h.setHeight,C=h.getDaySegmentContainer,E=h.getSlotSegmentContainer,S=h.getHoverListener,x=h.computeDateTop,k=h.getIsCellAllDay,M=h.colContentLeft,R=h.colContentRight,z=h.cellToDate,H=h.getColWidth,N=h.getSnapHeight,W=h.getSnapDuration,O=h.getSlotHeight,A=h.getSlotDuration,L=h.getSlotContainer,Y=h.reportEventElement,Z=h.showEvents,B=h.hideEvents,P=h.eventDrop,j=h.eventResize,I=h.renderDayOverlay,q=h.clearOverlays,$=h.renderDayEvents,X=h.getMinTime,V=h.getMaxTime,G=h.calendar,U=G.formatDate,Q=G.getEventEnd,J=h.getResources;h.draggableDayEvent=u}function bt(n,r,a){function o(t,n){var r=O[t];return e.isPlainObject(r)&&!i(t)?z(r,n||a):r}function s(e,t){return r.trigger.apply(r,[e,t||H].concat(Array.prototype.slice.call(arguments,2),[H]))}function l(e){var t=e.source||{};return A(e.startEditable,t.startEditable,o("eventStartEditable"),e.editable,t.editable,o("editable"))}function c(e){var t=e.source||{};return A(e.durationEditable,t.durationEditable,o("eventDurationEditable"),e.editable,t.editable,o("editable"))}function d(){W={},F=[]}function u(e,t){F.push({event:e,element:t}),W[e._id]?W[e._id].push(t):W[e._id]=[t]}function f(){e.each(F,function(e,t){H.trigger("eventDestroy",t.event,t.event,t.element)})}function v(e,t){t.click(function(n){return t.hasClass("ui-draggable-dragging")||t.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,e,n)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function h(e,t){g(e,t,"show")}function p(e,t){g(e,t,"hide")}function g(e,t,n){var r,a=W[e._id],o=a.length;for(r=0;o>r;r++)t&&a[r][0]==t[0]||a[r][n]()}function m(e,t,n,a,o){var i=r.mutateEvent(t,n,null);s("eventDrop",e,t,i.dateDelta,function(){i.undo(),N(t._id)},a,o),N(t._id)}function y(e,t,n,a,o){var i=r.mutateEvent(t,null,n);s("eventResize",e,t,i.durationDelta,function(){i.undo(),N(t._id)},a,o),N(t._id)}function D(e){return t.isMoment(e)&&(e=e.day()),B[e]}function b(){return Y}function w(e,t,n){var r=e.clone();for(t=t||1;B[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r}function T(){var e=C.apply(null,arguments),t=E(e),n=S(t);return n}function C(e,t){var n=H.getColCnt(),r=I?-1:1,a=I?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var o=e*n+(t*r+a);return o}function E(e){var t=H.start.day();return e+=P[t],7*Math.floor(e/Y)+j[(e%Y+Y)%Y]-t}function S(e){return H.start.clone().add(e,"days")}function x(e){var t=k(e),n=M(t),r=R(n);return r}function k(e){return e.clone().stripTime().diff(H.start,"days")}function M(e){var t=H.start.day();return e+=t,Math.floor(e/7)*Y+P[(e%7+7)%7]-P[t]}function R(e){var t=H.getColCnt(),n=I?-1:1,r=I?t-1:0,a=Math.floor(e/t),o=(e%t+t)%t*n+r;return{row:a,col:o}}function _(e,t){var n=H.getRowCnt(),r=H.getColCnt(),a=[],o=k(e),i=k(t),s=+t.time();s&&s>=L&&i++,i=Math.max(i,o+1);for(var l=M(o),c=M(i)-1,d=0;n>d;d++){var u=d*r,f=u+r-1,v=Math.max(l,u),h=Math.min(c,f);if(h>=v){var p=R(v),g=R(h),m=[p.col,g.col].sort(),y=E(v)==o,D=E(h)+1==i;a.push({row:d,leftCol:m[0],rightCol:m[1],isStart:y,isEnd:D})}}return a}var H=this;H.element=n,H.calendar=r,H.name=a,H.opt=o,H.trigger=s,H.isEventDraggable=l,H.isEventResizable=c,H.clearEventData=d,H.reportEventElement=u,H.triggerEventDestroy=f,H.eventElementHandlers=v,H.showEvents=h,H.hideEvents=p,H.eventDrop=m,H.eventResize=y;var N=r.reportEventChange,W={},F=[],O=r.options,L=t.duration(O.nextDayThreshold);H.getEventTimeText=function(e){var t,n;return 2===arguments.length?(t=arguments[0],n=arguments[1]):(t=e.start,n=e.end),n&&o("displayEventEnd")?r.formatRange(t,n,o("timeFormat")):r.formatDate(t,o("timeFormat"))},H.isHiddenDay=D,H.skipHiddenDays=w,H.getCellsPerWeek=b,H.dateToCell=x,H.dateToDayOffset=k,H.dayOffsetToCellOffset=M,H.cellOffsetToCell=R,H.cellToDate=T,H.cellToCellOffset=C,H.cellOffsetToDayOffset=E,H.dayOffsetToDate=S,H.rangeToSegments=_;var Y,Z=o("hiddenDays")||[],B=[],P=[],j=[],I=o("isRTL");(function(){o("weekends")===!1&&Z.push(0,6);for(var t=0,n=0;7>t;t++)P[t]=n,B[t]=-1!=e.inArray(t,Z),B[t]||(j[n]=t,n++);if(Y=n,!Y)throw"invalid hiddenDays"})()}function wt(){function t(e,t){var n=r(e,!1,!0);Ct(n,function(e,t){M(e.event,t)}),y(n,t),Ct(n,function(e,t){S("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var a=r([e],!0,!1),o=[];return Ct(a,function(e,r){e.row===t&&r.css("top",n),o.push(r[0])}),o}function r(t,n,r){var o,i,c=q(),f=n?e("<div/>"):c,v=a(t);return s(v),o=l(v),f[0].innerHTML=o,i=f.children(),n&&c.append(i),d(v,i),Ct(v,function(e,t){e.hsides=D(t,!0)}),Ct(v,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),Ct(v,function(e,t){e.outerHeight=t.outerHeight(!0)}),u(v,r),v}function a(e){var t,n,r=C.getResources,a=[];if(r===void 0)for(t=0;e.length>t;t++)n=i(e[t]),a.push.apply(a,n);else for(t=0;r().length>t;t++)for(var s=o(r()[t],e),l=0;s.length>l;l++)n=i(s[l],t),a.push.apply(a,n);return a}function o(t,n){for(var r=[],a=function(n){return n.resources&&e.grep(n.resources,function(e){return e==t.id}).length},o=0;n.length>o;o++)a(n[o])&&r.push(n[o]);return r}function i(e,t){for(var n=U(e.start,rt(e)),r=0;n.length>r;r++)t!==void 0&&(n[r].leftCol=t,n[r].rightCol=t),n[r].event=e;return n}function s(e){for(var t=E("isRTL"),n=0;e.length>n;n++){var r=e[n],a=(t?r.isEnd:r.isStart)?j:B,o=(t?r.isStart:r.isEnd)?I:P,i=a(r.leftCol),s=o(r.rightCol);r.left=i,r.outerWidth=s-i}}function l(e){for(var t="",n=0;e.length>n;n++)t+=c(e[n]);return t}function c(e){var t="",n=E("isRTL"),r=e.event,a=r.url,o=["fc-event","fc-event-hori"];x(r)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=F(r,E);return t+=a?"<a href='"+_(a)+"'":"<div",t+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+_(C.getEventTimeText(r))+"</span>"),t+="<span class='fc-event-title'>"+_(r.title||"")+"</span>"+"</div>",r.allDay&&e.isEnd&&k(r)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(a?"a":"div")+">"
}function d(t,n){for(var r=0;t.length>r;r++){var a=t[r],o=a.event,i=n.eq(r),s=S("eventRender",o,o,i);s===!1?i.remove():(s&&s!==!0&&(s=e(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}}function u(e,t){var n,r=f(e),a=m(),o=[];if(t)for(n=0;a.length>n;n++)a[n].height(r[n]);for(n=0;a.length>n;n++)o.push(a[n].position().top);Ct(e,function(e,t){t.css("top",o[e.row]+e.top)})}function f(e){for(var t,n=L(),r=Y(),a=[],o=v(e),i=0;n>i;i++){var s=o[i],l=[];for(t=0;r>t;t++)l.push(0);for(var c=0;s.length>c;c++){var d=s[c];for(d.top=R(l.slice(d.leftCol,d.rightCol+1)),t=d.leftCol;d.rightCol>=t;t++)l[t]=d.top+d.outerHeight}a.push(R(l))}return a}function v(e){var t,n,r,a=L(),o=[];for(t=0;e.length>t;t++)n=e[t],r=n.row,n.element&&(o[r]?o[r].push(n):o[r]=[n]);for(r=0;a>r;r++)o[r]=h(o[r]||[]);return o}function h(e){for(var t=[],n=p(e),r=0;n.length>r;r++)t.push.apply(t,n[r]);return t}function p(e){e.sort(Et);for(var t=[],n=0;e.length>n;n++){for(var r=e[n],a=0;t.length>a&&Tt(r,t[a]);a++);t[a]?t[a].push(r):t[a]=[r]}return t}function m(){var e,t=L(),n=[];for(e=0;t>e;e++)n[e]=Z(e).find("div.fc-day-content > div");return n}function y(e,t){var n=q();Ct(e,function(e,n,r){var a=e.event;a._id===t?b(a,n,e):n[0]._fci=r}),g(n,e,b)}function b(e,t,n){x(e)&&C.draggableDayEvent(e,t,n),e.allDay&&n.isEnd&&k(e)&&C.resizableDayEvent(e,t,n),z(e,t)}function w(e,t){var n,r,a=G();t.draggable({delay:50,opacity:E("dragOpacity"),revertDuration:E("dragRevertDuration"),start:function(o,i){S("eventDragStart",t[0],e,o,i),W(e,t),a.start(function(a,o,i,s){if(t.draggable("option","revert",!a||!i&&!s),X(),a){var l=Q(o),c=Q(a);n=c.diff(l,"days"),r=e.start.clone().add(n,"days"),$(r,rt(e).add(n,"days"))}else n=0},o,"drag")},stop:function(o,i){a.stop(),X(),S("eventDragStop",t[0],e,o,i),n?O(t[0],e,r,o,i):(t.css("filter",""),H(e,t))}})}function T(t,r,a){var o=E("isRTL"),i=o?"w":"e",s=r.find(".ui-resizable-"+i),l=!1;N(r),r.mousedown(function(e){e.preventDefault()}).click(function(e){l&&(e.preventDefault(),e.stopImmediatePropagation())}),s.mousedown(function(o){function s(n){S("eventResizeStop",r[0],t,n,{}),e("body").css("cursor",""),f.stop(),X(),c&&A(r[0],t,d,n,{}),setTimeout(function(){l=!1},0)}if(1==o.which){l=!0;var c,d,u,f=G(),v=r.css("top"),h=e.extend({},t),p=tt(et(t.start));V(),e("body").css("cursor",i+"-resize").one("mouseup",s),S("eventResizeStart",r[0],t,o,{}),f.start(function(r,o){if(r){var s=J(o),l=J(r);if(l=Math.max(l,p),c=K(l)-K(s),d=rt(t).add(c,"days"),c){h.end=d;var f=u;u=n(h,a.row,v),u=e(u),u.find("*").css("cursor",i+"-resize"),f&&f.remove(),W(t)}else u&&(H(t),u.remove(),u=null);X(),$(t.start,d)}},o)}})}var C=this;C.renderDayEvents=t,C.draggableDayEvent=w,C.resizableDayEvent=T;var E=C.opt,S=C.trigger,x=C.isEventDraggable,k=C.isEventResizable,M=C.reportEventElement,z=C.eventElementHandlers,H=C.showEvents,W=C.hideEvents,O=C.eventDrop,A=C.eventResize,L=C.getRowCnt,Y=C.getColCnt,Z=C.allDayRow,B=C.colLeft,P=C.colRight,j=C.colContentLeft,I=C.colContentRight,q=C.getDaySegmentContainer,$=C.renderDayOverlay,X=C.clearOverlays,V=C.clearSelection,G=C.getHoverListener,U=C.rangeToSegments,Q=C.cellToDate,J=C.cellToCellOffset,K=C.cellOffsetToDayOffset,et=C.dateToDayOffset,tt=C.dayOffsetToCellOffset,nt=C.calendar,rt=nt.getEventEnd}function Tt(e,t){for(var n=0;t.length>n;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function Ct(e,t){for(var n=0;e.length>n;n++){var r=e[n],a=r.element;a&&t(r,a,n)}}function Et(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function St(){function t(t){var n=c("unselectCancel");n&&e(t.target).parents(n).length||r(t)}function n(e,t){r(),e=l.moment(e),t=t?l.moment(t):u(e),f(e,t),a(e,t)}function r(e){h&&(h=!1,v(),d("unselect",null,e))}function a(e,t,n){h=!0,d("select",null,e,t,n)}function o(t){var n=s.cellToDate,o=s.getIsCellAllDay,i=s.getHoverListener(),l=s.reportDayClick;if(1==t.which&&c("selectable")){r(t);var d;i.start(function(e,t){v(),e&&o(e)?(d=[n(t),n(e)].sort(M),f(d[0],d[1].clone().add(1,"days"))):d=null},t),e(document).one("mouseup",function(e){i.stop(),d&&(+d[0]==+d[1]&&l(d[0],e),a(d[0],d[1].clone().add(1,"days"),e))})}}function i(){e(document).off("mousedown",t)}var s=this;s.select=n,s.unselect=r,s.reportSelection=a,s.daySelectionMousedown=o,s.selectionManagerDestroy=i;var l=s.calendar,c=s.opt,d=s.trigger,u=s.defaultSelectionEnd,f=s.renderSelection,v=s.clearSelection,h=!1;c("selectable")&&c("unselectAuto")&&e(document).on("mousedown",t)}function xt(){function t(t,n){var r=o.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(t).show()),r}function n(){for(var e;e=a.shift();)o.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var a=[],o=[]}function kt(e){var t,n,r=this;r.build=function(){t=[],n=[],e(t,n)},r.cell=function(e,r){var a,o=t.length,i=n.length,s=-1,l=-1;for(a=0;o>a;a++)if(r>=t[a][0]&&t[a][1]>r){s=a;break}for(a=0;i>a;a++)if(e>=n[a][0]&&n[a][1]>e){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},r.rect=function(e,r,a,o,i){var s=i.offset();return{top:t[e][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:t[a][1]-t[e][0]}}}function Mt(t){function n(e){Rt(e);var n=t.cell(e.pageX,e.pageY);(Boolean(n)!==Boolean(i)||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,l,c){a=s,o=i=null,t.build(),n(l),r=c||"mousemove",e(document).bind(r,n)},s.stop=function(){return e(document).unbind(r,n),i}}function Rt(e){void 0===e.pageX&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function zt(e){function t(t){return r[t]=r[t]||e(t)}var n=this,r={},a={},o={};n.left=function(e){return a[e]=void 0===a[e]?t(e).position().left:a[e]},n.right=function(e){return o[e]=void 0===o[e]?n.left(e)+t(e).width():o[e]},n.clear=function(){r={},a={},o={}}}var _t={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:r,day:"dddd"},timeFormat:{"default":n},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0,windowResizeDelay:200},Ht={en:{columnFormat:{week:"ddd M/D"}}},Nt={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Wt=e.fullCalendar={version:"2.0.2"},Ft=Wt.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(a,o){var i,l=e(o),c=l.data("fullCalendar");"string"==typeof t?c&&e.isFunction(c[t])&&(i=c[t].apply(c,n),a||(r=i),"destroy"===t&&l.removeData("fullCalendar")):c||(c=new s(l,t),l.data("fullCalendar",c),c.render())}),r},Wt.langs=Ht,Wt.datepickerLang=function(t,n,r){var a=Ht[t];a||(a=Ht[t]={}),o(a,{isRTL:r.isRTL,weekNumberTitle:r.weekHeader,titleFormat:{month:r.showMonthAfterYear?"YYYY["+r.yearSuffix+"] MMMM":"MMMM YYYY["+r.yearSuffix+"]"},defaultButtonText:{prev:H(r.prevText),next:H(r.nextText),today:H(r.currentText)}}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},Wt.lang=function(e,t){var n;t&&(n=Ht[e],n||(n=Ht[e]={}),o(n,t||{})),_t.lang=e},Wt.sourceNormalizers=[],Wt.sourceFetchers=[];var Ot={dataType:"json",cache:!1},At=1;Wt.applyAll=O;var Lt=["sun","mon","tue","wed","thu","fri","sat"],Yt=/^\s*\d{4}-\d\d$/,Zt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;Wt.moment=function(){return L(arguments)},Wt.moment.utc=function(){var e=L(arguments,!0);return e.hasTime()&&e.utc(),e},Wt.moment.parseZone=function(){return L(arguments,!0,!0)},Y.prototype=f(t.fn),Y.prototype.clone=function(){return L([this])},Y.prototype.time=function(e){if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});delete this._ambigTime,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Y.prototype.stripTime=function(){var e=this.toArray();return t.fn.utc.call(this),this.year(e[0]).month(e[1]).date(e[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this._ambigTime=!0,this._ambigZone=!0,this},Y.prototype.hasTime=function(){return!this._ambigTime},Y.prototype.stripZone=function(){var e=this.toArray(),n=this._ambigTime;return t.fn.utc.call(this),this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6]),n&&(this._ambigTime=!0),this._ambigZone=!0,this},Y.prototype.hasZone=function(){return!this._ambigZone},Y.prototype.zone=function(e){return null!=e&&(delete this._ambigTime,delete this._ambigZone),t.fn.zone.apply(this,arguments)},Y.prototype.local=function(){var e=this.toArray(),n=this._ambigZone;return delete this._ambigTime,delete this._ambigZone,t.fn.local.apply(this,arguments),n&&this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6]),this},Y.prototype.utc=function(){return delete this._ambigTime,delete this._ambigZone,t.fn.utc.apply(this,arguments)},Y.prototype.format=function(){return arguments[0]?P(this,arguments[0]):this._ambigTime?B(this,"YYYY-MM-DD"):this._ambigZone?B(this,"YYYY-MM-DD[T]HH:mm:ss"):B(this)},Y.prototype.toISOString=function(){return this._ambigTime?B(this,"YYYY-MM-DD"):this._ambigZone?B(this,"YYYY-MM-DD[T]HH:mm:ss"):t.fn.toISOString.apply(this,arguments)},Y.prototype.isWithin=function(e,t){var n=Z([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},e.each(["isBefore","isAfter","isSame"],function(e,n){Y.prototype[n]=function(e,r){var a=Z([this,e]);return t.fn[n].call(a[0],a[1],r)}});var Bt={t:function(e){return B(e,"a").charAt(0)},T:function(e){return B(e,"A").charAt(0)}};Wt.formatRange=q;var Pt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},jt={};Ft.month=U,Ft.basicWeek=Q,Ft.basicDay=J,a({weekMode:"fixed"}),Ft.agendaWeek=tt,Ft.agendaDay=nt,a({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:rt,timeFormat:{agenda:at},dragOpacity:{agenda:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}),Ft.resourceDay=mt,a({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:rt,timeFormat:{resource:at},dragOpacity:{resource:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0,minResourceWidth:70})});